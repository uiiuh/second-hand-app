### 1. 初识nodejs

- 可以通过js去写后端

	- js为什么可以写前端——因为浏览器中有js解析引擎，可以解析js，且这个引擎提供的运行环境中有很多api可以调用(web api，ajax api等等)
	- js还可以用来写后端——将js运行到nodejs环境中即可

- 什么是 nodejs

	- nodejs是基于谷歌浏览器 v8引擎(js解析引擎？）的js运行环境。
	- nodejs提供了：js解析引擎，以及一些内置api。
	- 学习nodejs就是学习这些内置api的使用。
	- nodejs无法调用dom和bom，ajax等浏览器内置api。
	- nodejs仅提供了一些基础的功能和api。更多更复杂的功能要依靠工具和框架。
		- Express框架，快速构建 web 应用
		- Electron框架，构建跨平台的桌面应用
		- restify，快速构建api接口项目(即使用node去写接口
	- nodejs还可以读写和操作数据库，创建实用的命令行工具辅助前端开发等等

- nodejs学习路径：js基本语法 + nodejs内置api + 第三方api（如express，mysql等）

- **在安转nodejs时，如果不放在默认路径那么安装后需要我们手动配置一下环境变量**

- 通过在终端中输入命令：node 要执行的js文件，即可在node环境执行js

	例如：`node hello.js`

- 如何在终端中切换到想要的目录下：

	- 到目标文件下后复制路径，然后使用 cd 路径，即可到想要的路径了(注意，这里必须得和根目录在一个盘才行，如果不是一个盘，得先使用 cd 某盘，移动到对应盘)
	- 到文件所处目录后，使用 `shift+鼠标右键`，此时右键会多出一个选项：在此处打开powershell窗口，选择这个即可(没有的把快捷模式放到桌面就有了)

- 输入node后tab键补全

- cmd终端和 powershell终端有什么区别：
	- cmd 是旧版终端，powershell 是 cmd 做了一次升级，功能更多一点。用哪个都可以
- 终端快捷键：
	- 上箭头：上次命令
	- tab：输入文件首字母后，按下tab键可以自动补全路径，此时会加上一个 `./`，这个加不加都没关系的
	- esc可以快速清空当前输入的内容

### 2. fs文件系统模块

- fs模块是 nodejs 官方提供的，用来操作文件的模块。它提供了一系列方法和属性满足用户对文件的操作需求

- 如何导入fs模块：

	- 使用require方法：`const fs = require ('fs')`
		当我们安装nodejs后，也会在本地安装各种模块，因此我们传入fs字符串后，nodejs会自动查找并导入。

- `fs.readFile(path[,option],callback)方法`：读取指定文件的内容

	- path：文件路径
		callback：文件读取完成后的回调函数，可以通过回调拿到读取的结果。无论读取成功还是失败都会执行

	- 中括号包起来的是可选参数（如读取格式等）

	- 例如，以 utf-8 格式读取文件的内容

		```javascript
		fs.readFile(path,'utf8',function (err,dataStr){
		    err,读取失败的结果
		    dataStr，读取成功的结果
		})
		```

		- 读取成功
			- err 为 null
			- dataStr 为文件内容
		- 读取失败（如：读取了不存在的文件）
			- err为一个错误对象
			- dataStr 为 undefined
		- 因此可以使用err的值判定文件是否读取成功

- `fs.writeFile(file，data[,options],callback)方法`：写入文件的内容

	- file：文件存放路径，需要指定一个文件路径字符串

		如果没有路径则新建一个文件，否则覆盖文件中的内容

	- data：要写入的内容

	- 可选参数，如：`'utf8'`，表示以 utf8 格式写入文件内容（一般默认是UTF8，所以可以不写）

	- 回调：文件写入完成后的回调


	```javas
	fs.writeFile(path,'111',“utf8",function (err) {
		err,写入失败的结果
	})
	```

	- 写入成功
		- err 为 null
	- 写入失败：例如：写入的路径不存在
		- err 为一个错误对象
	- 因此可以使用 err 的值判定文件是否写入成功

- fs 模块路径动态拼接问题：
	当使用fs操作文件时，如果使用相对路径，很容易出现路径动态拼接问题
	因为当执行 `node js文件 `命令时，会以当前路径 + fs方法中写入参数的路径，得出被操作文件的完整路径
- 如何结果动态拼接问题：
	1. 提供一个绝对路径（完整的路径）
		注意，在使用完整路径时，要使用两个//，一个斜杆是代表转义字符
		缺点：代码可移植性降低，不利于维护
	2. 使用 `__dirname`（双下划线 dirname）
		- `__dirname` 表示当前文件所处的目录
		- 使用 `__dirname` 再拼接上相对路径，就可以得到完整的存放路径

### 3. path 路径模块

- path 模块是 nodejs 官方提供的，用来处理路径的模块
	提供了一系列方法和属性满足用户对路径的处理需求
- 使用path模块
	- 导入 path 模块： `const path = require ('path')`

- `path.join([...paths])` 方法：将多个路径片段拼接为完整的路径字符串
	- 路径个数无限制
	- 函数返回值为拼接好的路径字符串
	- 如果路径片段中有 `../`，那么会把紧挨着它的前一个路径给抵消掉。

- 我们在使用fs操作文件时，建议**使用 `path.join `来拼接` __dirname（当前路径）` 和 路径，不要直接使用 + 号**
	- 比起直接拼接的好处是：可以消除路径中多余的 `/` 、`./` 等
	- 当有多个字符串要相连时，用 `path.join` 方法会一次性申请足够的内存，从而更快

- `path.basename(path[,ext])` 方法：获取路径中的最后一部分
	- path：路径字符串
	- ext：文件拓展名
		- 如果写了这个参数，那么就会将文件扩展名给删掉，只返回文件名
		- 从路径后面往前面找，找到一一对应的字符后去掉（遇到不相等的字符不就无效了？）
		- 函数返回值为路径中的最后一部分

- `path.extname(path)` 方法：获取路径中的扩展名
	- path：路径

	- 函数返回值：路径名

- 使用 `path.basename` 和 `path.extname` 就可以得到文件名了

### 4. http 模块

> 客户端：在网络节点中，负责消费资源的电脑，叫做客户端
>
> 服务器：负责对外提供网络资源的电脑，叫做服务器
>
> - 服务器和普通电脑的区别在于：服务器上安装了 web 服务器软件，例如：IIS、Apache 等。通过安装这些服务器软件，就能把一台普通的电脑变成一台 web 服务器。

- http 模块是 Node.js 官方提供的、用来创建 web 服务器的模块

- `http.createServer()` 方法：把一台普通的电脑，变成一台 Web 服务器，从而对外提供 Web 资源服务
	- 导入 http 模块：`const http = require('help')`
- http 模块的作用：在 Node.js 中，我们不需要使用 IIS、Apache 等这些第三方 web 服务器软件。因为我们可以基于 Node.js 提供的 http 模块，就能轻松的手写一个服务器软件，从而对外提供 web 服务。

> 服务器相关概念
>
> - IP 地址
>
> 	- IP 地址是互联网上每台计算机的唯一地址，因此 IP 地址具有唯一性。
>
> 	- 只有在知道对方 IP 地址的前提下，才能与对应的电脑之间进行数据通信。
>
> 	- IP 地址的格式：通常用 “点分十进制” （`a.b.c.d` 的形式）来表示一个 IP 地址
>
> 		- a, b, c, d 都是 0~255 之间的十进制整数
> 		- 例如：用 点分十进制 表示的 IP地址：`192.168.1.1`
>
> 	- 注意：
>
> 		- 互联网中每台 Web 服务器，都有自己的 IP 地址
>
> 			大家可以在终端中运行 `ping www.baidu.com` 命令，查看到百度服务器的 IP 地址。
>
> 		- 在开发期间，自己的电脑既是一台服务器，也是一个客户端，为了方便测试，可以在自己的浏览器中输入 `127.0.0.1  `这个 IP 地址，就能把自己的电脑当做一台服务器进行访问了。
>
> - 域名 和 域名服务器
>
> 	- 尽管 IP 地址能够唯一地标记网络上的计算机，但 **IP 地址**是一长串数字，**不直观**，而且不便于记忆，于是人们又发明了另一套**字符型的地址方案，即所谓的域名（Domain Name）地址。**
>
> 	- **IP地址 和 域名 是一一对应的关系，这份对应关系存放在一种叫做域名服务器(DNS，Domain name server)的电脑中。**使用者只需通过好记的域名访问对应的服务器即可，对应的转换工作由域名服务器实现。因此，**域名服务器就是提供 IP 地址和域名之间的转换服务的服务器**
>
> 	- 注意：
>
> 		- 单纯使用 IP 地址，互联网中的电脑也能够正常工作。但是有了域名的加持，能让互联网的世界变得更加方便。
>
> 		- 在开发测试期间， 127.0.0.1 对应的域名是 localhost，它们都代表我们自己的这台电脑，在使用效果上没有任何区别。